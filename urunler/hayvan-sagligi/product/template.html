 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/urunler/hayvan-sagligi/product/template.html b/urunler/hayvan-sagligi/product/template.html
index dc0cbf8338ddac02db5957f3addd8ec51cad8fb3..bf69c6ed66e08c3359a111b19125ee5a10924d98 100644
--- a/urunler/hayvan-sagligi/product/template.html
+++ b/urunler/hayvan-sagligi/product/template.html
@@ -564,53 +564,65 @@
   <footer>
     <div class="footer-left">
       <div class="footer-brand">
         <img src="/urunler/assets/logos/logo.png" alt="Serakıncı Limited Logo" loading="lazy" />
         <h1>Serakıncı Limited</h1>
       </div>
       <div class="footer-slogan"> Hayvan Sağlığı, Cilt Güzelliği — Tek Adreste! </div>
     </div>
     <div class="footer-right">
       <a href="https://serakinci.com/">Ana Sayfa</a>
       <a href="https://serakinci.com/bizkimiz">Hakkımızda</a>
       <a href="https://serakinci.com/services">Hizmetlerimiz</a>
       <a href="https://serakinci.com/contact">İletişim</a>
       <a href="https://serakinci.com/careers">Kariyer</a>
       <a href="https://serakinci.com/faq">Sıkça Sorulan Sorular</a>
     </div>
   </footer>
   <div class="footer-bottom">
     © <span id="currentYear"></span> Serakıncı Limited. Tüm hakları saklıdır. | Powered by
     <a href="https://fures.tech" target="_blank">Fures Tech<img src="/urunler/assets/logos/fureslogo.png" alt="Fures Tech Logo" loading="lazy"/></a>
   </div>
 
   <script type="module">
     import { GoogleGenerativeAI } from "https://esm.sh/@google/generative-ai";
 
-    const GEMINI_API_KEY = "AIzaSyBEpqKAEZKYSyznxeZsQ1MYO-9hqV5LGoA"; 
+    const GEMINI_API_KEY = "AIzaSyBEpqKAEZKYSyznxeZsQ1MYO-9hqV5LGoA";
     const FALLBACK_IMAGE_URL = '/urunler/assets/logos/resimyok.png';
-    const API_BASE_PATH = '/urunler/api/'; 
+    const API_BASE_PATH = '/urunler/api/';
+    const LOCAL_IMAGE_BASE = `${API_BASE_PATH}gorseller/`;
+
+    function localImageUrl(product) {
+        if (!product || !product.ImageUrl || !product.ProductCode) return product?.ImageUrl || FALLBACK_IMAGE_URL;
+        const match = product.ImageUrl.match(/\.([a-zA-Z0-9]+)(?:[?#].*)?$/);
+        const ext = match ? match[1] : 'jpg';
+        return `${LOCAL_IMAGE_BASE}${product.ProductCode}.${ext}`;
+    }
+
+    function applyLocalImages(list) {
+        if (Array.isArray(list)) list.forEach(p => { p.ImageUrl = localImageUrl(p); });
+    }
     const GEMINI_SDK_LOADED = typeof GoogleGenerativeAI !== 'undefined';
 
     let allProducts = []; 
     let currentSegment = ''; 
     let currentProduct = null;
     let favorites = [];
     let searchDebounceTimer;
     let G_isMouseOverDropdown = false; 
 
     async function generateEnhancedProductInfo(productName, productKategori, languageCode, existingProductInfo = {}) {
         // This function is kept for fetchAndFillDescriptionAI, 
         // but it no longer directly powers a visible "AI Info" section via a button.
         // It could be simplified to only return 'enhancedDescription' if 'keyFeatures' are truly no longer used anywhere.
         // For now, keeping it as is, as fetchAndFillDescriptionAI might be adapted to use keyFeatures later if needed.
         if (!GEMINI_SDK_LOADED) throw new Error("Yapay zeka modülü (SDK) yüklenemedi.");
         
         let isGeminiEnabled = false;
         if (GEMINI_SDK_LOADED) {
             if (GEMINI_API_KEY === "AIzaSyBEpqKAEZKYSyznxeZsQ1MYO-9hqV5LGoA") { 
                 isGeminiEnabled = true;
             } else if (GEMINI_API_KEY && !GEMINI_API_KEY.includes("PLACEHOLDER")) { 
                 isGeminiEnabled = true;
             }
         }
         if (!isGeminiEnabled) {
diff --git a/urunler/hayvan-sagligi/product/template.html b/urunler/hayvan-sagligi/product/template.html
index dc0cbf8338ddac02db5957f3addd8ec51cad8fb3..bf69c6ed66e08c3359a111b19125ee5a10924d98 100644
--- a/urunler/hayvan-sagligi/product/template.html
+++ b/urunler/hayvan-sagligi/product/template.html
@@ -787,58 +799,58 @@
         const rect = element.getBoundingClientRect();
         tooltip.style.left = `${rect.left + window.scrollX + (rect.width / 2) - (tooltip.offsetWidth / 2)}px`;
         tooltip.style.top = `${rect.top + window.scrollY - tooltip.offsetHeight - 8}px`;
         tooltip.style.opacity = '1';
         setTimeout(() => { tooltip.style.opacity = '0'; }, 2000);
     }
 
     function getProductCategory(product) {
         if (product && typeof product.kategori === 'string' && product.kategori.trim() !== '') return product.kategori.trim();
         if (product && typeof product.cat === 'string' && product.cat.trim() !== '') return product.cat.trim();
         return 'Diğer';
     }
 
     function slugify(text) {
         if (text === null || typeof text === 'undefined') return 'isimsiz-urun';
         const trMap = { 'ç': 'c', 'Ç': 'c', 'ğ': 'g', 'Ğ': 'g', 'ı': 'i', 'İ': 'i', 'ö': 'o', 'Ö': 'o', 'ş': 's', 'Ş': 's', 'ü': 'u', 'Ü': 'u' };
         return String(text)
             .replace(/[\u00C7\u00E7\u011F\u011E\u0131\u0130\u00D6\u00F6\u015E\u015F\u00DC\u00FC]/g, match => trMap[match] || match)
             .normalize('NFD').replace(/[\u0300-\u036f]/g, '').toLowerCase().trim()
             .replace(/[()]/g, '-').replace(/(\d+)\s*(ml|gr|lt|kg|cc|mcg|mg|iu|doz|enj|wsp|oral|flakon|adet|ad|m|g|l|k|d)\b/gi, '$1-$2')
             .replace(/\s+/g, '-').replace(/[^\w-]+/g, '').replace(/--+/g, '-').replace(/^-+|-+$/g, '');
     }
 
     function getCurrentSegmentAndSlug() {
         const parts = window.location.pathname.split('/').filter(Boolean);
-        if (parts.length >= 4 && parts[0] === 'urunler' && parts[2] === 'product' && parts[3]) {
+        if (parts.length >= 4 && parts[0] === 'urunler' && (parts[2] === 'product' || parts[2] === 'product-pages') && parts[3]) {
             return { segment: parts[1], slug: parts[3] };
         }
-        if (parts.length >= 3 && parts[0] === 'urunler' && parts[1] === 'product' && parts[2]) {
-            return { segment: 'hayvan-sagligi', slug: parts[2] }; 
+        if (parts.length >= 3 && parts[0] === 'urunler' && (parts[1] === 'product' || parts[1] === 'product-pages') && parts[2]) {
+            return { segment: 'hayvan-sagligi', slug: parts[2] };
         }
         return { segment: null, slug: null };
-    }
+    };
 
     async function fetchJsonData(fileName) {
         try {
             const response = await fetch(`${API_BASE_PATH}${fileName}`);
             if (!response.ok) {
                 if (response.status === 404) {
                     throw new Error(`Dosya bulunamadı: ${API_BASE_PATH}${fileName}`);
                 } else {
                     throw new Error(`Dosya yüklenirken ağ hatası: ${API_BASE_PATH}${fileName} (${response.status} ${response.statusText})`);
                 }
             }
             return await response.json();
         } catch (error) {
             console.error(`fetchJsonData Hata (${fileName}):`, error);
             throw error;
         }
     }
 
     function showError(msg) {
         const detailContainer = document.getElementById('productDetailContainer');
         const backLink = currentSegment ? `/urunler/${currentSegment}/` : '/urunler/';
         const backLinkText = currentSegment ? `${currentSegment.charAt(0).toUpperCase() + currentSegment.slice(1).replace('-', ' ')} Ürünlerine Dön` : "Ürünler Sayfasına Dön";
         if (detailContainer) {
             detailContainer.innerHTML = `<div class="error-container"><h2>Bir Sorun Oluştu</h2><p>${msg}</p><div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 20px;">
                 ${document.referrer && document.referrer.includes(window.location.host) ? `<a href="#" class="back-button-modern" onclick="event.preventDefault(); window.history.back();"><span class="back-icon">←</span> Önceki Sayfaya Dön</a>` : ''}
diff --git a/urunler/hayvan-sagligi/product/template.html b/urunler/hayvan-sagligi/product/template.html
index dc0cbf8338ddac02db5957f3addd8ec51cad8fb3..bf69c6ed66e08c3359a111b19125ee5a10924d98 100644
--- a/urunler/hayvan-sagligi/product/template.html
+++ b/urunler/hayvan-sagligi/product/template.html
@@ -846,133 +858,135 @@
             </div></div>`;
         }
     }
 
     function loadFavorites() { favorites = JSON.parse(localStorage.getItem('serakinciFavorites')) || []; updateFavoritesCount(); }
     function saveFavorites() { localStorage.setItem('serakinciFavorites', JSON.stringify(favorites)); updateFavoritesCount(); }
     function isFavorite(productId) { return favorites.some(fav => fav.ProductId === productId); }
     function updateFavoritesCount() { 
         const countEl = document.getElementById('favoritesCount');
         if(countEl) {
             countEl.textContent = favorites.length; 
             if (favorites.length > 0) {
                 countEl.style.display = 'inline-flex'; 
             } else {
                 countEl.style.display = 'none';
             }
         }
     }
     function toggleFavorite(product, btnElement) {
         const productId = product.ProductId;
         if (isFavorite(productId)) {
             favorites = favorites.filter(fav => fav.ProductId !== productId);
             showTooltip('favoriteTooltip', btnElement, 'Favorilerden çıkarıldı!');
             btnElement.classList.remove('favorited');
         } else {
-            favorites.push({ 
-                ProductId: product.ProductId, 
-                ProductName: product.ProductName, 
-                ImageUrl: product.ImageUrl || (product.ProductImages?.[0]?.ImageUrl) || FALLBACK_IMAGE_URL,
+            favorites.push({
+                ProductId: product.ProductId,
+                ProductName: product.ProductName,
+                ImageUrl: localImageUrl(product),
                 Category: getProductCategory(product),
                 Segment: currentSegment,
                 Slug: slugify(product.ProductName)
             });
             showTooltip('favoriteTooltip', btnElement, 'Favorilere eklendi!');
             btnElement.classList.add('favorited');
         }
         saveFavorites();
     }
     function displayFavorites() {
         const listEl = document.getElementById('favoritesList');
         const noFavMsg = document.getElementById('noFavoritesMessage');
         listEl.innerHTML = '';
         if (favorites.length === 0) {
             noFavMsg.style.display = 'block';
         } else {
             noFavMsg.style.display = 'none';
             favorites.forEach(fav => {
                 const item = document.createElement('div');
                 item.className = 'modal-list-item';
                 item.innerHTML = `
-                    <a href="/urunler/${fav.Segment}/product/${fav.Slug}/" title="${fav.ProductName} Detayı">
+                    <a href="/urunler/${fav.Segment}/product-pages/${fav.Slug}/" title="${fav.ProductName} Detayı">
                         <img src="${fav.ImageUrl}" alt="${fav.ProductName}" loading="lazy" onerror="this.src='${FALLBACK_IMAGE_URL}'">
                     </a>
                     <div class="modal-list-item-info">
-                        <a href="/urunler/${fav.Segment}/product/${fav.Slug}/" class="name" title="${fav.ProductName} Detayı">${fav.ProductName}</a>
+                        <a href="/urunler/${fav.Segment}/product-pages/${fav.Slug}/" class="name" title="${fav.ProductName} Detayı">${fav.ProductName}</a>
                         <span class="category">${fav.Category}</span>
                     </div>
                     <div class="modal-list-item-actions">
                         <button class="remove-fav-btn" data-product-id="${fav.ProductId}" title="Favorilerden Çıkar">
                             <svg viewBox="0 0 24 24" fill="#e74c3c" width="20" height="20"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>
                         </button>
                     </div>`;
                 listEl.appendChild(item);
             });
             document.querySelectorAll('.remove-fav-btn').forEach(btn => {
                 btn.onclick = (e) => {
                     const id = e.currentTarget.dataset.productId;
                     favorites = favorites.filter(f => f.ProductId != id);
                     saveFavorites();
                     displayFavorites(); 
                     if (currentProduct && currentProduct.ProductId == id) {
                         const favBtn = document.getElementById('favoriteBtn');
                         if (favBtn) favBtn.classList.remove('favorited');
                     }
                 };
             });
         }
     }
     function setupFavoritesModal() {
         const modal = document.getElementById('favoritesModal');
         const link = document.getElementById('favoritesNavLink');
         const closeBtn = modal.querySelector('.close-button');
 
         if (link && modal && closeBtn) {
             link.onclick = (e) => { e.preventDefault(); displayFavorites(); modal.classList.add('show'); };
             closeBtn.onclick = () => modal.classList.remove('show');
             modal.onclick = (e) => { if (e.target === modal) modal.classList.remove('show'); };
         } else {
             console.error("Favorites modal elements not found.");
         }
     }
 
     async function loadProductDetail(slugFromUrl, segmentName) {
         const productDetailContainer = document.getElementById('productDetailContainer');
         productDetailContainer.innerHTML = `<div class="loading-container"><div class="loading-spinner"></div><p class="loading-text">Ürün bilgileri yükleniyor...</p></div>`;
 
         try {
             const productsListFile = `${segmentName}.json`; 
             const [products, enhancedData] = await Promise.all([
-              fetchJsonData(productsListFile), 
-              fetchJsonData('hayvan-sagligi-enhanced.json') 
+              fetchJsonData(productsListFile),
+              fetchJsonData('hayvan-sagligi-enhanced.json')
             ]);
+            applyLocalImages(products);
 
             allProducts = products; 
 
             if (!Array.isArray(allProducts)) { showError('Ürün listesi yüklenemedi. Beklenmeyen format.'); return; }
 
             currentProduct = allProducts.find(p => p.ProductName && slugify(p.ProductName) === slugFromUrl);
+            if (currentProduct) currentProduct.ImageUrl = localImageUrl(currentProduct);
 
             if (currentProduct) {
                 const enhancedDetail = enhancedData.find(detail => detail.ProductId === currentProduct.ProductId);
                 displayProductDetail(currentProduct, enhancedDetail, segmentName); 
                 document.title = `${currentProduct.ProductName} | ${segmentName.charAt(0).toUpperCase() + segmentName.slice(1).replace('-', ' ')} | Serakıncı`;
                 const canonicalLink = document.querySelector("link[rel='canonical']");
                 if (canonicalLink) canonicalLink.href = window.location.href; 
             } else {
                 showError('Aradığınız ürün bulunamadı veya bu kategoriye ait değil. URL\'yi kontrol edin.');
             }
         } catch (error) {
             console.error("loadProductDetail hatası:", error);
             showError(`Ürün bilgileri yüklenirken bir hata oluştu: ${error.message}. JSON dosyası formatı veya yolu hatalı olabilir.`);
         }
     }
     
     async function fetchAndFillDescriptionAI(product, enhancedDetail) {
         const initialDescription = (enhancedDetail && enhancedDetail["Ürün Açıklaması"]) || product.Description;
         const placeholderTexts = [
             "açıklama yükleniyor...",
             "bu ürün için açıklama şu anda üretilememektedir.",
             "otomatik açıklama üretilirken bir hata oluştu.",
             "açıklama mevcut değil (ai modülü etkin değil)."
         ];
         
diff --git a/urunler/hayvan-sagligi/product/template.html b/urunler/hayvan-sagligi/product/template.html
index dc0cbf8338ddac02db5957f3addd8ec51cad8fb3..bf69c6ed66e08c3359a111b19125ee5a10924d98 100644
--- a/urunler/hayvan-sagligi/product/template.html
+++ b/urunler/hayvan-sagligi/product/template.html
@@ -1030,51 +1044,51 @@
                 if (enhancedDetail) {
                     enhancedDetail["Ürün Açıklaması"] = newDescription;
                 }
             } else {
                 console.warn(`[AI Auto-Desc] Gemini'den geçerli bir açıklama alınamadı or 'bilgi yok' for "${product.ProductName}".`);
                  const shortDescEl = document.getElementById('product-short-description-content');
                  const tab1DescEl = document.getElementById('product-tab1-description-content');
                  if (shortDescEl && placeholderTexts.includes(shortDescEl.textContent.trim().toLowerCase())) shortDescEl.textContent = "Yapay zeka ile açıklama üretilemedi.";
                  if (tab1DescEl && placeholderTexts.includes(tab1DescEl.textContent.trim().toLowerCase())) tab1DescEl.textContent = "Yapay zeka ile genel açıklama üretilemedi.";
             }
         } catch (error) {
             console.error(`[AI Auto-Desc] Gemini ile otomatik açıklama üretilirken hata for "${product.ProductName}":`, error);
             const shortDescEl = document.getElementById('product-short-description-content');
             const tab1DescEl = document.getElementById('product-tab1-description-content');
             if (shortDescEl && placeholderTexts.includes(shortDescEl.textContent.trim().toLowerCase())) shortDescEl.textContent = "Açıklama üretilirken hata oluştu.";
             if (tab1DescEl && placeholderTexts.includes(tab1DescEl.textContent.trim().toLowerCase())) tab1DescEl.textContent = "Genel açıklama üretilirken hata oluştu.";
         }
     }
 
 
     function displayProductDetail(product, enhancedDetail, segmentName) { 
         const detailContainer = document.getElementById('productDetailContainer');
         
         let initialDescription = (enhancedDetail && enhancedDetail["Ürün Açıklaması"]) || product.Description || " ";
 
-        let imageUrl = product.ImageUrl || (product.ProductImages?.[0]?.ImageUrl) || FALLBACK_IMAGE_URL;
+        let imageUrl = localImageUrl(product);
         const productCategory = getProductCategory(product);
         const isFav = isFavorite(product.ProductId);
 
         const imageHTML = `<div class="product-main-image-wrapper" id="mainProductImageWrapper"><img src="${imageUrl}" alt="${product.ProductName}" class="product-main-image-modern ${!imageUrl || imageUrl === FALLBACK_IMAGE_URL ? 'fallback-image' : ''}" onerror="this.onerror=null; this.src='${FALLBACK_IMAGE_URL}';" loading="lazy"></div>`;
         const favoriteButtonHTML = `<button class="favorite-button ${isFav ? 'favorited' : ''}" id="favoriteBtn" title="Favorilere Ekle/Çıkar"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>`;
 
         let metaInfoHTML = '<div class="product-meta-enhanced">';
         if (productCategory && productCategory !== 'Diğer') metaInfoHTML += `<span class="meta-item"><strong>Kategori:</strong> ${productCategory}</span>`;
         const productCode = product.ProductCode || product.DisplayProductCode;
         if (productCode) metaInfoHTML += `<span class="meta-item"><strong>Ürün Kodu:</strong> <span id="productCodeValue">${productCode}</span> <span class="copy-code" title="Kodu Kopyala" onclick="window.copyProductCode(event)">(Kopyala)</span></span>`;
         if (enhancedDetail) { 
             if(enhancedDetail["Üretici Firma"] && enhancedDetail["Üretici Firma"].trim() !== "") metaInfoHTML += `<span class="meta-item"><strong>Üretici:</strong> ${enhancedDetail["Üretici Firma"]}</span>`;
             if(enhancedDetail["Firma Web Sitesi"] && enhancedDetail["Firma Web Sitesi"].trim() !== "" && (enhancedDetail["Firma Web Sitesi"].startsWith('http') || enhancedDetail["Firma Web Sitesi"].startsWith('www'))) metaInfoHTML += `<span class="meta-item"><strong>Web Sitesi:</strong> <a href="${enhancedDetail["Firma Web Sitesi"].startsWith('http') ? '' : 'http://'}${enhancedDetail["Firma Web Sitesi"]}" target="_blank" rel="noopener">Web Sitesini Ziyaret Et</a></span>`;
             if(enhancedDetail["Üretici Prospektüs"] && enhancedDetail["Üretici Prospektüs"].trim() !== "" && (enhancedDetail["Üretici Prospektüs"].startsWith('http') || enhancedDetail["Üretici Prospektüs"].startsWith('www'))) metaInfoHTML += `<span class="meta-item"><strong>Prospektüs:</strong> <a href="${enhancedDetail["Üretici Prospektüs"].startsWith('http') ? '' : 'http://'}${enhancedDetail["Üretici Prospektüs"]}" target="_blank" rel="noopener">Prospektüsü Görüntüle</a></span>`;
         }
         metaInfoHTML += '</div>';
 
         const productUrl = window.location.href;
         const shareText = encodeURIComponent(`Serakıncı'da ${product.ProductName} ürününü inceleyin:`);
         const shareButtonsHTML = `<div class="product-share-buttons"><span class="share-label">Paylaş:</span><a href="https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(productUrl)}" target="_blank" title="Facebook'ta Paylaş"><svg viewBox="0 0 24 24" fill="#1877F2"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/></svg></a><a href="https://twitter.com/intent/tweet?url=${encodeURIComponent(productUrl)}&text=${shareText}" target="_blank" title="Twitter'da Paylaş"><svg viewBox="0 0 24 24"><path fill="#1DA1F2" d="M22.46 6c-.77.35-1.6.58-2.46.67.9-.53 1.59-1.37 1.92-2.38-.84.5-1.78.86-2.79 1.07C18.28 4.47 17.03 4 15.64 4c-2.97 0-5.32 2.44-5.32 5.45 0 .42.05.84.14 1.24C7.08 10.5 4.07 8.76 2.05 6.12c-.44.75-.69 1.62-.69 2.55 0 1.88 1 3.55 2.4 4.52-.88-.03-1.7-.27-2.42-.66v.07c0 2.63 1.85 4.82 4.3 5.32-.45.12-.93.18-1.42.18-.34 0-.68-.03-1-.1C4.56 19.95 6.43 21.3 8.63 21.3c-1.84 1.44-4.17 2.3-6.7 2.3-.43 0-.86-.02-1.28-.08C3.38 22.89 5.92 24 8.78 24c7.22 0 11.6-6.12 11.12-12.07.79-.57 1.47-1.29 2-2.06z"/></svg></a><a href="https://api.whatsapp.com/send?text=${shareText} ${encodeURIComponent(productUrl)}" target="_blank" title="WhatsApp'ta Paylaş"><svg viewBox="0 0 24 24"><path fill="#25D366" d="M12.04 2c-5.46 0-9.91 4.45-9.91 9.91 0 1.75.46 3.38 1.25 4.8L2 22l5.29-1.38c1.37.71 2.93 1.12 4.56 1.12h.1c5.46 0 9.91-4.45 9.91-9.91S17.68 2 12.04 2zm4.64 12.13c-.14-.07-.86-.42-1-.49-.14-.07-.24-.11-.34.11-.1.22-.38.49-.47.59-.09.1-.18.11-.34.04-.16-.07-.68-.25-1.29-.79-.48-.42-.79-.94-.88-1.1s-.09-.25 0-.38c.08-.11.18-.28.28-.42.09-.14.14-.25.2-.42.07-.18.04-.33-.02-.44s-.34-.81-.47-1.1c-.12-.29-.25-.25-.34-.25-.09 0-.18 0-.28.02s-.24.11-.38.38c-.14.28-.54.86-.54 1.5s.54 1.74.62 1.86c.08.11.97 1.48 2.42 2.03.34.14.61.21.82.28.29.09.54.08.74.02.22-.07.68-.28.78-.55.1-.28.1-.51.07-.59s-.14-.11-.3-.18z"/></svg></a></div>`;
         
         const shortDescriptionHTML = `<div class="product-short-description"><p id="product-short-description-content">${initialDescription}</p></div>`;
         
         const actionButtonHTML = `
             <div id="ai-button-container">
diff --git a/urunler/hayvan-sagligi/product/template.html b/urunler/hayvan-sagligi/product/template.html
index dc0cbf8338ddac02db5957f3addd8ec51cad8fb3..bf69c6ed66e08c3359a111b19125ee5a10924d98 100644
--- a/urunler/hayvan-sagligi/product/template.html
+++ b/urunler/hayvan-sagligi/product/template.html
@@ -1134,52 +1148,52 @@
             ${disclaimerHTML}
             ${contactHTML}
             ${backButtonHTML}
         `;
 
         setupTabEvents(); 
         const favBtn = document.getElementById('favoriteBtn');
         if (favBtn) favBtn.onclick = (e) => toggleFavorite(product, e.currentTarget);
         
         setupScrollToContactButton(); // Setup for the new button
         setupMainImageLightbox(imageUrl);
         fetchAndFillDescriptionAI(product, enhancedDetail);
     }
 
     function getRelatedProductsHTML(currentProduct, segmentName, allProducts) {
         const productCategory = getProductCategory(currentProduct);
         const safeAllProducts = Array.isArray(allProducts) ? allProducts : [];
         const relatedProducts = safeAllProducts
             .filter(p => p && p.ProductName && getProductCategory(p) === productCategory && slugify(p.ProductName) !== slugify(currentProduct.ProductName))
             .slice(0, 10);
 
         if (relatedProducts.length === 0) return '';
         const title = productCategory !== 'Diğer' ? `"${productCategory}" Kategorisindeki Diğer Ürünler` : "İlgili Diğer Ürünler";
         let html = `<div class="related-products-section-modern"><h2 class="related-products-title-modern">${title}</h2><div class="related-products-carousel"><div class="carousel-arrow prev" onclick="window.scrollCarousel(-1, 'relatedProductsContainer')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></div><div class="related-products-container" id="relatedProductsContainer">`;
         relatedProducts.forEach(rp => {
-            let rpImageUrl = rp.ImageUrl || (rp.ProductImages?.[0]?.ImageUrl) || FALLBACK_IMAGE_URL;
-            html += `<a href="/urunler/${segmentName}/product/${slugify(rp.ProductName)}/" class="related-product-card"><img src="${rpImageUrl}" alt="${rp.ProductName}" loading="lazy" onerror="this.src='${FALLBACK_IMAGE_URL}'"><div class="info"><div class="name">${rp.ProductName}</div><div class="category">${getProductCategory(rp)}</div></div></a>`;
+            let rpImageUrl = localImageUrl(rp);
+            html += `<a href="/urunler/${segmentName}/product-pages/${slugify(rp.ProductName)}/" class="related-product-card"><img src="${rpImageUrl}" alt="${rp.ProductName}" loading="lazy" onerror="this.src='${FALLBACK_IMAGE_URL}'"><div class="info"><div class="name">${rp.ProductName}</div><div class="category">${getProductCategory(rp)}</div></div></a>`;
         });
         html += `</div><div class="carousel-arrow next" onclick="window.scrollCarousel(1, 'relatedProductsContainer')"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></div></div></div>`;
         return html;
     }
 
     function getDisclaimerHTML() {
         return `
         <div class="disclaimer-box-modern">
             <strong>Yasal Uyarı / Legal Disclaimer</strong>
             <span>Bu web sitesinde sunulan bilgiler yalnızca genel bilgilendirme amaçlıdır ve profesyonel veteriner hekim tavsiyesinin veya teşhisinin yerini alması amaçlanmamıştır. Hayvanınızın sağlığı veya tıbbi durumu hakkında herhangi bir endişeniz varsa, daima veteriner hekiminize veya diğer nitelikli sağlık uzmanlarına danışın.</span>
             <span>Sitede yer alan bilgiler, herhangi bir hastalığı teşhis etmek, tedavi etmek, iyileştirmek veya önlemek için kullanılamaz. Ürünlerin kullanımı ve dozajı konusunda mutlaka bir veteriner hekimin önerisi ve gözetimi gereklidir. Yanlış veya bilinçsiz ilaç kullanımı hayvan sağlığı için ciddi riskler oluşturabilir.</span>
             <span>Serakıncı Limited, bu sitede yer alan bilgilerin doğruluğu, güncelliği veya eksiksizliği konusunda herhangi bir garanti vermez ve bu bilgilerin kullanımından kaynaklanabilecek doğrudan veya dolaylı hiçbir sorumluluk kabul etmez. Ürün bilgileri, etiketleri ve ambalajları zamanla değişebilir; her zaman ürünle birlikte gelen güncel etiket ve prospektüs bilgilerini ve veteriner hekiminizin tavsiyelerini dikkate alınız.</span>
             <span>Reçeteye tabi veteriner tıbbi ürünleri yalnızca veteriner hekim reçetesi ile temin edilebilir ve kullanılabilir.</span>
             <hr>
             <span><strong>Legal Disclaimer:</strong> The information provided on this website is for general informational purposes only and is not intended to be a substitute for professional veterinary advice, diagnosis, or treatment. Always seek the advice of your veterinarian or other qualified health provider with any questions you may have regarding your animal's health or a medical condition.</span>
         </div>`;
     }
 
     function getContactHTML() {
         return `
         <div class="contact-card-modern" id="contactSection">
             <div class="contact-title-modern">Ürün Hakkında Bilgi Alın</div>
             <div class="contact-bar-modern"></div>
             <p class="contact-intro-text">Ürünle ilgili detaylı bilgi veya sorularınız için bizimle iletişime geçmekten çekinmeyin:</p>
             <div class="contact-grid">
diff --git a/urunler/hayvan-sagligi/product/template.html b/urunler/hayvan-sagligi/product/template.html
index dc0cbf8338ddac02db5957f3addd8ec51cad8fb3..bf69c6ed66e08c3359a111b19125ee5a10924d98 100644
--- a/urunler/hayvan-sagligi/product/template.html
+++ b/urunler/hayvan-sagligi/product/template.html
@@ -1246,87 +1260,88 @@
         const productCodeEl = document.getElementById('productCodeValue');
         if (!productCodeEl) return;
         navigator.clipboard.writeText(productCodeEl.innerText).then(() => {
             showTooltip('copyTooltip', event.target, 'Kopyalandı!');
         }).catch(err => console.error('Kod kopyalanamadı: ', err));
     }
 
     window.scrollCarousel = function(direction, containerId) { 
         const container = document.getElementById(containerId);
         if (container) container.scrollLeft += direction * (container.clientWidth * 0.8);
     }
 
     async function setupProductSearch() { 
         const searchInput = document.getElementById('headerProductSearchInput');
         const searchWrapper = document.querySelector('.header-search-wrapper');
         const resultsDropdown = document.getElementById('headerSearchResultsDropdown');
         const resultsList = document.getElementById('headerSearchResultsList');
 
         if (!searchInput || !searchWrapper || !resultsDropdown || !resultsList) {
             console.error("Header search elements not found.");
             return;
         }
 
         if (allProducts.length === 0) { 
             try { 
-                allProducts = await fetchJsonData(`hayvan-sagligi.json`); 
+                allProducts = await fetchJsonData(`hayvan-sagligi.json`);
+                applyLocalImages(allProducts);
             } catch (e) { 
                 console.warn("Header arama için varsayılan ürünler yüklenemedi (bu bir ürün sayfası olmayabilir):", e.message); 
             }
         }
 
 
         searchInput.addEventListener('input', function(e) {
             const searchTerm = e.target.value.trim().toLocaleLowerCase('tr-TR');
             clearTimeout(searchDebounceTimer);
             if (searchTerm.length < 2) { 
                 resultsDropdown.style.display = 'none'; 
                 resultsList.innerHTML = ''; 
                 searchWrapper.classList.remove('search-active');
                 return; 
             }
             searchWrapper.classList.add('search-active');
             searchDebounceTimer = setTimeout(() => {
                 if (!allProducts || allProducts.length === 0) {
                     resultsList.innerHTML = '<li class="no-results">Ürün verisi yükleniyor...</li>';
                     resultsDropdown.style.display = 'block';
                     return;
                 }
 
                 const filtered = allProducts.filter(product => 
                     product && product.ProductName && product.ProductName.toLocaleLowerCase('tr-TR').includes(searchTerm) ||
                     product && product.ProductCode && product.ProductCode.toLocaleLowerCase('tr-TR').includes(searchTerm)
                 ).slice(0, 7);
                 resultsList.innerHTML = ''; 
                 if (filtered.length > 0) {
                     filtered.forEach(product => { 
                         const listItem = document.createElement('li');
-                        let rpImageUrl = product.ImageUrl || (product.ProductImages?.[0]?.ImageUrl) || FALLBACK_IMAGE_URL;
+                        let rpImageUrl = localImageUrl(product);
                         const productSegForLink = product.segment || currentSegment || 'hayvan-sagligi'; 
 
                         listItem.innerHTML = `
-                            <a href="/urunler/${productSegForLink}/product/${slugify(product.ProductName)}/">
+                            <a href="/urunler/${productSegForLink}/product-pages/${slugify(product.ProductName)}/">
                                 <img src="${rpImageUrl}" alt="${product.ProductName}" class="suggestion-image" onerror="this.src='${FALLBACK_IMAGE_URL}'">
                                 <span class="suggestion-name">${product.ProductName}</span>
                                 ${getProductCategory(product) !== 'Diğer' ? `<span class="suggestion-category">${getProductCategory(product)}</span>` : ''}
                             </a>`;
                         resultsList.appendChild(listItem);
                     });
                 } else {
                     resultsList.innerHTML = '<li class="no-results">Sonuç bulunamadı.</li>';
                 }
                 resultsDropdown.style.display = 'block';
             }, 300); 
         });
 
         searchInput.addEventListener('focus', function() {
             searchWrapper.classList.add('search-active');
             if (searchInput.value.length >= 2 && resultsList.children.length > 0 && resultsList.firstChild.className !== 'no-results') {
                 resultsDropdown.style.display = 'block';
             }
         });
 
         searchInput.addEventListener('blur', function() {
             setTimeout(() => {
                 if (!G_isMouseOverDropdown) {
                     resultsDropdown.style.display = 'none';
                     if (searchInput.value.length < 2) { 
diff --git a/urunler/hayvan-sagligi/product/template.html b/urunler/hayvan-sagligi/product/template.html
index dc0cbf8338ddac02db5957f3addd8ec51cad8fb3..bf69c6ed66e08c3359a111b19125ee5a10924d98 100644
--- a/urunler/hayvan-sagligi/product/template.html
+++ b/urunler/hayvan-sagligi/product/template.html
@@ -1364,38 +1379,38 @@
             });
         }
     }
 
     document.addEventListener('DOMContentLoaded', async function() {
         const currentYearEl = document.getElementById('currentYear');
         if(currentYearEl) currentYearEl.textContent = new Date().getFullYear();
 
         loadFavorites();
 
         setupMobileMenu(); 
         setupScrollToTopButton();
         setupLightbox();
         setupFavoritesModal();
         setupChatbotModal(); 
         
         await setupProductSearch(); 
 
         const { segment: detectedSegment, slug: slugFromUrl } = getCurrentSegmentAndSlug();
         currentSegment = detectedSegment; 
 
         if (slugFromUrl && currentSegment) {
             await loadProductDetail(slugFromUrl, currentSegment); 
         } else {
             const detailContainer = document.getElementById('productDetailContainer');
-            if(detailContainer && (!slugFromUrl || !currentSegment) && window.location.pathname.includes('/product/')) { 
-                 showError('Ürün bilgisi alınamadı. URL yapısı hatalı veya eksik. Lütfen geçerli bir ürün URL\'si ile gelin. Örnek: `/urunler/hayvan-sagligi/product/multivit-100ml-enj/`');
+            if(detailContainer && (!slugFromUrl || !currentSegment) && (window.location.pathname.includes('/product/') || window.location.pathname.includes('/product-pages/'))) { 
+                 showError('Ürün bilgisi alınamadı. URL yapısı hatalı veya eksik. Lütfen geçerli bir ürün URL\'si ile gelin. Örnek: `/urunler/hayvan-sagligi/product-pages/multivit-100ml-enj/`');
             } else if (detailContainer && detailContainer.querySelector('.loading-container')) {
-                 if (!window.location.pathname.includes('/product/')) { 
+                 if (!(window.location.pathname.includes('/product/') || window.location.pathname.includes('/product-pages/'))) { 
                     detailContainer.innerHTML = ''; 
                  }
             }
         }
     });
 
   </script>
 </body>
 </html>
 
EOF
)