<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dermokozmetik Ürünler | Serakıncı KKTC</title>
  <meta name="description" content="Serakıncı güvencesiyle dermokozmetik ürünleri. En sevdiğiniz markaların ürünlerini keşfedin!">

  <link rel="canonical" href="https://www.serakinci.com/urunler/dermokozmetik/">

  <!-- Favicons and Manifest from original file (assuming these are desired for all pages) -->
  <link rel="icon" href="/urunler/assets/logos/logobrowser/favicon.ico" type="image/x-icon">
  <link rel="icon" type="image/png" sizes="16x16" href="/urunler/assets/logos/logobrowser/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/urunler/assets/logos/logobrowser/favicon-32x32.png">
  <link rel="apple-touch-icon" href="/urunler/assets/logos/logobrowser/apple-icon.png">
  <link rel="apple-touch-icon" sizes="57x57" href="/urunler/assets/logos/logobrowser/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/urunler/assets/logos/logobrowser/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/urunler/assets/logos/logobrowser/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/urunler/assets/logos/logobrowser/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/urunler/assets/logos/logobrowser/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/urunler/assets/logos/logobrowser/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/urunler/assets/logos/logobrowser/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/urunler/assets/logos/logobrowser/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/urunler/assets/logos/logobrowser/apple-icon-180x180.png">
  <link rel="apple-touch-icon-precomposed" href="/urunler/assets/logos/logobrowser/apple-icon-precomposed.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/urunler/assets/logos/logobrowser/android-icon-192x192.png">
  <meta name="msapplication-TileColor" content="#212A40">
  <meta name="msapplication-TileImage" content="/urunler/assets/logos/logobrowser/android-icon-144x144.png">
  <meta name="msapplication-config" content="/urunler/assets/logos/logobrowser/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <link rel="manifest" href="/urunler/assets/logos/logobrowser/manifest.json">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.cdnfonts.com/css/satoshi" rel="stylesheet">

  <style>
    :root{
      --primary: #50C8C6;
      --primary-hover: #40A8A6;
      --bg: #f8f9fa;
      --card: #fff;
      --text-dark: #2c3e50;
      --text-medium: #7f8c8d;
      --text-light: #abb8c3;
      --border: #e0e6e8;
      --radius: 6px; /* This will be used by header locally if not overridden */
      --shadow: 0 2px 6px rgba(44, 62, 80, .07); /* This will be used by header locally if not overridden */
      --shadow-md: 0 3px 10px rgba(44, 62, 80, .09); /* This will be used by header locally if not overridden */

      /* Header specific variables */
      --header-bg: #ffffff;
      --header-text-color: #1C274C;
      --header-nav-link-color: #1C274C;
      --header-nav-link-hover-color: #50C8C6; /* Original --primary color */
      --header-lang-button-bg: #ffffff;
      --header-lang-button-border: #ADD8E6;
      --header-lang-button-text: #1C274C;
      --header-lang-button-hover-bg: #f0f8ff;
      --header-b2b-button-bg: #212A40;
      --header-b2b-button-text: #ffffff;
      --header-b2b-button-hover-bg: #303E5C;
      --header-border-color: #e0e6e8;
    }
    html{scroll-behavior:smooth} /* Added from original for consistency */
    *{box-sizing:border-box; overflow-wrap: break-word;} /* Added overflow-wrap from original */
    body{
      margin:0;
      font-family:'Satoshi', sans-serif;
      background:var(--bg);
      color:var(--text-dark);
      -webkit-font-smoothing:antialiased;
      line-height: 1.6;
      overflow-x: hidden; /* Added from original for consistency */
    }
    .container{max-width:1200px;margin:0 auto;padding:0 1rem}
    /* Original .main-container style for header structure */
    .main-container{
        max-width:1100px; /* Header uses this max-width */
        margin:0 auto;
        /* padding is handled by .new-header-content for the header */
    }

    /* --- YENİ HEADER STYLES START --- */
    .new-site-header {
      /* Header uses its own variables or the globally defined ones if not specific */
      font-family: 'Satoshi', sans-serif; /* Already set on body, but explicit for robustness */
      background-color: var(--header-bg);
      padding: 0.8rem 0;
      border-bottom: 1px solid var(--header-border-color);
      box-shadow: var(--shadow); /* Uses global --shadow */
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .new-header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      /* max-width from .main-container will apply */
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    .new-site-logo-link {
      display: flex;
      align-items: center;
      text-decoration: none;
    }
    .new-site-logo-img {
      height: 36px;
      margin-right: 0.6rem;
    }
    .new-site-logo-text {
      font-size: 1.3rem;
      font-weight: 500;
      color: var(--header-text-color);
    }
    .new-site-navigation {
      display: flex;
      gap: 1.5rem;
    }
    .new-nav-link {
      color: var(--header-nav-link-color);
      text-decoration: none;
      font-weight: 500;
      font-size: 0.9rem;
      padding: 0.3rem 0;
      position: relative;
      transition: color 0.2s ease;
    }
    .new-nav-link:hover {
      color: var(--header-nav-link-hover-color);
      text-decoration: none;
    }
    .new-nav-link::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -2px;
      left: 0;
      background-color: var(--header-nav-link-hover-color);
      transition: width 0.3s ease;
    }
    .new-nav-link:hover::after {
      width: 100%;
    }
    .new-header-actions {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .language-selector {
      background-color: var(--header-lang-button-bg);
      border: 1px solid var(--header-lang-button-border);
      color: var(--header-lang-button-text);
      padding: 0.4rem 0.8rem;
      border-radius: var(--radius); /* Uses global --radius (6px) */
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    .language-selector:hover {
      background-color: var(--header-lang-button-hover-bg);
    }
    .search-button {
      background: none;
      border: none;
      color: var(--header-text-color);
      cursor: pointer;
      padding: 0.3rem;
      display: flex;
      align-items: center;
    }
    .search-button svg {
      width: 20px;
      height: 20px;
      stroke-width: 2.2px;
    }
    .search-button:hover svg {
      color: var(--header-nav-link-hover-color);
    }
    .b2b-login-button {
      background-color: var(--header-b2b-button-bg);
      color: var(--header-b2b-button-text);
      padding: 0.5rem 1.2rem;
      border-radius: 20px;
      text-decoration: none;
      font-weight: 500;
      font-size: 0.9rem;
      transition: background-color 0.2s ease;
      white-space: nowrap;
    }
    .b2b-login-button:hover {
      background-color: var(--header-b2b-button-hover-bg);
      text-decoration: none;
      color: var(--header-b2b-button-text);
    }
    .mobile-menu-toggle {
        display: none;
        background: none;
        border: none;
        cursor: pointer;
        padding: 0.5rem;
    }
    .mobile-menu-toggle svg {
        width: 24px;
        height: 24px;
        stroke: var(--header-text-color);
    }
    @media(max-width: 992px) {
      .new-site-navigation {
        display: none;
        flex-direction: column;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: var(--header-bg);
        padding: 1rem;
        box-shadow: var(--shadow-md); /* Uses global --shadow-md */
        z-index: 999;
        border-top: 1px solid var(--header-border-color);
      }
      .new-site-navigation.is-active {
        display: flex;
      }
      .mobile-menu-toggle { display: block; }
      .new-header-content { padding: 0 1rem; }
    }

    @media(max-width: 768px) {
      .new-site-logo-text { font-size: 1.15rem; }
      .new-site-logo-img { height: 32px; }
      .language-selector, .b2b-login-button { padding: 0.35rem 0.7rem; font-size: 0.8rem; }
      .new-header-actions { gap: 0.7rem; }
      /* Media query styles from current page (768px) */
      .category-layout{flex-direction:column}
      .category-sidebar{width:100%; margin-bottom: 1.5rem;}
      .products-grid{grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap: 1rem;}
      .page-title-heading{font-size:1.6rem;}
      .page-title-description{font-size:0.9rem;}
      .toolbar {flex-direction: column; gap: 0.75rem; align-items: stretch; padding: 1rem;}
      .select-sort {width: 100%;}
    }
    @media(max-width: 480px) {
      .new-site-logo-text {
        display: inline;
        font-size: 1rem;
        margin-left: 0.4rem;
      }
      .new-site-logo-img {
        height: 30px;
      }
      .new-header-actions { gap: 0.4rem; }
      .b2b-login-button { padding: 0.3rem 0.5rem; font-size: 0.7rem;}
      .language-selector { padding: 0.3rem 0.5rem; font-size: 0.7rem;}
      .search-button svg { width: 17px; height: 17px;}
    }
    /* --- YENİ HEADER STYLES END --- */

    .page-title{
      padding:2rem 0 1.5rem;
      border-bottom: 1px solid var(--border);
      margin-bottom: 2rem;
      /* margin-top added dynamically by JS if header exists */
    }
    .page-title-heading{
      margin:0;
      font-size:1.8rem;
      font-weight:700;
      color: var(--text-dark);
    }
    .page-title-description{
      margin:.5rem 0 0;
      color:var(--text-medium);
      font-size: 0.95rem;
    }

    .brands-wrapper{overflow:hidden;margin-top:2rem; padding-bottom: 1rem;}
    .brand-track{display:flex;gap:2.5rem;animation:scroll 45s linear infinite}
    .brand-logo{
      flex:0 0 auto;width:110px;height:55px;
      padding:0;
      background:none;border:none;opacity:.7;
      cursor:pointer;display:flex;align-items:center;justify-content:center;
      transition: opacity .2s ease, transform .2s ease;
    }
    .brand-logo:hover{opacity:1;transform:scale(1.08)}
    .brand-logo img{max-width:100%;max-height:100%;object-fit:contain}
    @keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}

    .category-layout{display:flex;gap:2rem}
    .category-sidebar{width:260px;flex-shrink:0}
    .category-content{flex:1}

    .filter-container{
      border:1px solid var(--border);
      border-radius:var(--radius);
      background:var(--card);
      padding:1.25rem;
      box-shadow: var(--shadow);
    }
    .filter-title{
      font-size:1.15rem;
      margin:0 0 1rem;
      font-weight:600;
      color: var(--text-dark);
    }
    .filter-list{list-style:none;margin:0;padding:0}
    .filter-item{margin-bottom:.5rem}
    .filter-link{
      display:flex;justify-content:space-between;align-items:center;
      padding:.5rem .85rem;
      border-radius:calc(var(--radius) - 2px);
      text-decoration:none;color:var(--text-dark);
      font-size:.9rem;
      transition: background-color .2s ease, color .2s ease;
      border: 1px solid transparent;
    }
    .filter-link:hover{
      background: #f0f4f7;
      color: var(--primary);
      border-color: var(--border);
    }
    .filter-link.active{
      background:var(--primary);
      color:#fff;
      font-weight: 500;
      border-color: var(--primary);
    }
    .filter-link svg {
        margin-right: 0.5rem;
        width: 16px; height: 16px;
        stroke-width: 1.5px;
    }
    .filter-link.active svg {
        color: #fff;
    }
    .filter-count{
      background:var(--border);
      border-radius:999px;
      padding:.15rem .6rem;
      font-size:.7rem;
      color:var(--text-medium);
      font-weight: 500;
    }
    .filter-link.active .filter-count{
      background:rgba(255,255,255,.3);
      color: #fff;
    }

    .toolbar{
      display:flex;justify-content:space-between;align-items:center;
      margin-bottom:1.25rem;
      padding: 0.75rem;
      background-color: var(--card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }
    .toolbar-count{font-size:.9rem;color:var(--text-medium)}
    .select-sort{
      padding:.5rem .8rem;
      border:1px solid var(--border);
      border-radius:var(--radius);
      font-size:.875rem;
      background-color: #fff;
      color: var(--text-dark);
    }

    .products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(230px,1fr));gap:1.25rem}
    .product-card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      display:flex;flex-direction:column;
      cursor:pointer;
      transition: transform .2s ease-out, box-shadow .2s ease-out;
      overflow: hidden;
    }
    .product-card:hover{
      transform:translateY(-5px);
      box-shadow:var(--shadow-md);
    }
    .product-image-container{
      width:100%;
      aspect-ratio: 4/5;   /* <<< DEĞİŞİKLİK BURADA: Kare yerine 4:5 oranında dikdörtgen */
      background:#fdfdfe;
      display:flex;align-items:center;justify-content:center;
      border-bottom: 1px solid var(--border);
      overflow: hidden; /* <<< DEĞİŞİKLİK BURADA: Olası taşmaları engellemek için eklendi */
    }
    .product-image{
      max-width: 85%;  /* <<< DEĞİŞİKLİK BURADA: Konteynerin %85'i kadar maksimum genişlik */
      max-height: 85%; /* <<< DEĞİŞİKLİK BURADA: Konteynerin %85'i kadar maksimum yükseklik */
      object-fit:contain; /* Görselin en-boy oranını koruyarak konteynere sığmasını sağlar */
    }
    .no-image{font-size:.8rem;color:var(--text-light);text-align:center;padding:2rem}
    .product-content{
      padding:1rem;
      display:flex;flex-direction:column;
      gap:.3rem;
      flex-grow: 1;
    }
    .product-category{
      font-size:.75rem;
      font-weight:500;
      text-transform:uppercase;
      color:var(--primary);
      margin-bottom: 0.2rem;
    }
    .product-name{
      font-size:0.95rem;
      font-weight:600;
      margin:0 0 .4rem;
      color: var(--text-dark);
      line-height: 1.4;
      height: 2.8em; /* Yaklaşık 2 satır için */
      display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;
    }
    .product-link{
      color:var(--primary-hover);
      font-weight:500;
      font-size:.85rem;
      margin-top: auto; /* İçeriği alta iter */
      text-decoration: none;
    }
    .product-link:hover {
        text-decoration: underline;
    }

    .no-results,.loading,.error{
      text-align:center;padding:2.5rem;
      color:var(--text-medium);font-size:.9rem;
      background-color: var(--card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
    }

    .back-to-top{
      position:fixed;right:1.5rem;bottom:1.5rem;
      width:40px;height:40px;
      border:none;border-radius:50%;
      background:var(--primary);color:#fff;
      display:flex;align-items:center;justify-content:center;
      box-shadow:var(--shadow-md);
      cursor:pointer;opacity:0;pointer-events:none;
      transition: opacity .3s ease, transform .3s ease, background-color .3s ease;
      transform: translateY(10px);
    }
    .back-to-top.visible{
      opacity:1;pointer-events:auto;
      transform: translateY(0);
    }
    .back-to-top:hover {
        background-color: var(--primary-hover);
    }
    .back-to-top svg { width: 18px; height: 18px; }

    #productSearchInput{
      width:100%;
      padding:10px 18px 10px 42px;
      border:1px solid var(--border);
      border-radius:var(--radius);
      font-size:0.95rem;
      box-shadow:none;
      transition:border-color .2s ease, box-shadow .2s ease;
      background-color: var(--bg);
    }
    #productSearchInput:focus{
      outline:none;
      border-color:var(--primary);
      box-shadow: 0 0 0 3px rgba(80, 200, 198, .2);
    }
    #productSearchInput::placeholder {
        color: var(--text-light);
    }
    #clearSearchButton svg{stroke:var(--text-medium)}
    #clearSearchButton:hover svg { stroke: var(--text-dark); }

    /* Footer stilleri zaten vardı, onları olduğu gibi bırakıyorum. */
    footer {
      background-color: #ffffff;
      padding: 40px clamp(1.25rem, 5vw, 5rem); /* Footer'daki clamp'li padding'i korudum */
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      font-size: 16px;
      border-top: 1px solid #e0e0e0;
      color: #1C274C;
    }
    .footer-left { display: flex; flex-direction: column; max-width: 45%; }
    .footer-brand { display: flex; align-items: center; margin-bottom: 12px; }
    .footer-brand img { height: 48px; margin-right: 12px; }
    .footer-brand h1 { font-size: 25px; font-weight: 500; color: #1C274C; margin: 0; }
    .footer-slogan { font-size: 18px; color: #555555; font-weight: 400; }
    .footer-right { display: grid; grid-template-columns: auto auto; gap: 12px 40px; }
    .footer-right a { font-weight: 500; font-size: 16px; color: #474747; text-decoration: none; transition: color 0.3s ease; }
    .footer-right a:hover { color: #1C274C; }
    .footer-bottom {
      background-color: #f9f9f9; text-align: center; padding: 20px 40px;
      font-size: 14px; color: #474747; border-top: 1px solid #e0e0e0;
    }
    .footer-bottom a { color: #1C274C; font-weight: 500; text-decoration: none; display: inline-flex; align-items: center; }
    .footer-bottom a img { height: 24px; margin-left: 8px; }

    @media (max-width: 768px) { /* Footer mobil stilleri */
      footer { flex-direction: column; align-items: center; padding: 30px 20px; text-align: center; }
      .footer-left { max-width: 100%; align-items: center; margin-bottom: 30px; }
      .footer-brand { justify-content: center; }
      .footer-right { grid-template-columns: 1fr; gap: 15px; width: 100%; max-width: 280px; text-align: center; }
      .footer-right a { font-size: 18px; } .footer-bottom { padding: 20px; }
    }
     @media (max-width: 480px) { /* Footer mobil stilleri */
        .footer-brand h1 { font-size: 22px; }
        .footer-slogan { font-size: 16px; }
        .footer-bottom { padding: 15px; font-size: 13px; }
        .footer-bottom a img { height: 20px; }
     }
  </style>
</head>
<body>
  <header class="new-site-header" id="newSiteHeader">
    <div class="new-header-content main-container">
      <a href="https://www.serakinci.com" class="new-site-logo-link" title="Serakıncı Ana Sayfa">
        <img src="/urunler/assets/logos/logo.png" alt="Serakıncı Logo" class="new-site-logo-img">
        <span class="new-site-logo-text" data-i18n="headerLogoText">Serakıncı Limited</span>
      </a>
      <nav class="new-site-navigation">
        <a href="https://serakinci.com/bizkimiz" class="new-nav-link" data-i18n="navBizKimiz">Biz Kimiz?</a>
        <a href="https://serakinci.com/services" class="new-nav-link" data-i18n="navHizmetlerimiz">Hizmetlerimiz</a>
        <a href="https://serakinci.com/careers" class="new-nav-link" data-i18n="navKariyer">Kariyer</a>
        <a href="https://serakinci.com/contact" class="new-nav-link" data-i18n="navBizeUlasin">Bize Ulaşın</a>
      </nav>
      <div class="new-header-actions">
        <button class="language-selector" aria-label="Dil Seçimi" data-i18n="langButtonText">Türkçe</button>
        <button class="search-button" aria-label="Ara" onclick="alert('Arama fonksiyonu eklenecek.')">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        </button>
        <a href="https://siparis.serakinci.com/" class="b2b-login-button" data-i18n="b2bLoginButtonText">B2B Giriş</a>
        <button class="mobile-menu-toggle" aria-label="Menüyü Aç/Kapat" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="page-title" id="pageTitleSection">
      <div class="container">
        <h1 class="page-title-heading" data-i18n="pageTitleDermokozmetik">Tüm Dermokozmetik Ürünler</h1>
        <p class="page-title-description" data-i18n="pageDescDermokozmetik">Serakıncı farkıyla en sevdiğiniz dermokozmetik markalarını keşfedin.</p>

        <div style="margin-top:20px;max-width:600px;position:relative;">
          <input type="text" id="productSearchInput" placeholder="Ürün, marka veya kod ile ara…" data-i18n="searchPlaceholder">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="position:absolute;left:15px;top:50%;transform:translateY(-50%);color:var(--text-light); pointer-events:none;"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
          <button id="clearSearchButton" title="Aramayı Temizle" style="position:absolute;right:10px;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;padding:5px;display:none;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
          </button>
        </div>

        <div class="brands-wrapper"><div class="brand-track" id="brandTrack"></div></div>
      </div>
    </section>

    <section class="category-section" style="padding-bottom:4rem;">
      <div class="container">
        <div class="category-layout">
          <aside class="category-sidebar">
            <div class="filter-container">
              <h2 class="filter-title" data-i18n="filterTitleCategories">Kategoriler</h2>
              <ul class="filter-list" id="categoryList">
                <li class="filter-item">
                  <a href="#" class="filter-link active" data-category="ALL" data-i18n="filterAllProducts">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                    Tüm Ürünler <span class="filter-count">0</span>
                  </a>
                </li>
              </ul>
            </div>
            <div class="filter-container" style="margin-top:1.5rem;">
              <h2 class="filter-title" data-i18n="filterTitleBrands">Markalar</h2>
              <ul class="filter-list" id="brandList">
                <li class="filter-item">
                  <a href="#" class="filter-link" data-brand="ALL_BRANDS" data-i18n="filterAllBrands">
                    Tüm Markalar <span class="filter-count">0</span>
                  </a>
                </li>
              </ul>
            </div>
          </aside>

          <div class="category-content">
            <div class="toolbar">
              <div class="toolbar-count"><span id="productCount" data-i18n="productsLoading">Yükleniyor…</span></div>
              <select class="select-sort" id="sortDropdown" aria-label="Sıralama Seçeneği">
                <option value="name-asc" data-i18n="sortNameAsc">İsme Göre (A-Z)</option>
                <option value="name-desc" data-i18n="sortNameDesc">İsme Göre (Z-A)</option>
              </select>
            </div>
            <div class="products-grid" id="productsGrid"><div class="loading">Ürünler yükleniyor…</div></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <button class="back-to-top" id="backToTop" title="Başa Dön">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
  </button>

  <footer>
    <div class="footer-left">
      <div class="footer-brand">
        <img src="/urunler/assets/logos/logo.png" alt="Serakıncı Limited Logo" />
        <h1>Serakıncı Limited</h1>
      </div>
      <div class="footer-slogan" data-i18n="footerSlogan">
        Hayvan Sağlığı, Cilt Güzelliği — Tek Adreste!
      </div>
    </div>
    <div class="footer-right">
      <a href="https://serakinci.com/" data-i18n="footerLinkAnaSayfa">Ana Sayfa</a>
      <a href="https://serakinci.com/bizkimiz" data-i18n="footerLinkHakkimizda">Hakkımızda</a>
      <a href="https://serakinci.com/services" data-i18n="footerLinkHizmetlerimiz">Hizmetlerimiz</a>
      <a href="https://serakinci.com/contact" data-i18n="footerLinkIletisim">İletişim</a>
      <a href="https://serakinci.com/careers" data-i18n="footerLinkKariyer">Kariyer</a>
      <a href="https://serakinci.com/faq" data-i18n="footerLinkSSS">Sıkça Sorulan Sorular</a>
      <button class="language-selector" aria-label="Dil Seçimi" data-i18n="langButtonText">Türkçe</button>
    </div>
</footer>
<div class="footer-bottom">
    <span data-i18n="footerCopyright">© 2025 Serakıncı Limited. Tüm hakları saklıdır.</span> | <span data-i18n="footerPoweredBy">Powered by</span>
    <a href="https://fures.tech" target="_blank">Fures Tech<img src="/urunler/assets/logos/fureslogo.png" alt="Fures Tech Logo"/></a>
</div>

<script src="/urunler/assets/js/translations.js"></script>
<script src="/assets/i18n.js"></script>
<script>
    const segment = 'dermokozmetik';

    document.addEventListener('DOMContentLoaded', () => {
      // Header Menu Toggle Logic
      const menuToggle = document.querySelector('.mobile-menu-toggle');
      const nav = document.querySelector('.new-site-navigation');
      const siteHeader = document.getElementById('newSiteHeader'); // Renamed to avoid conflict
      if (menuToggle && nav && siteHeader) {
        menuToggle.addEventListener('click', () => {
          const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
          menuToggle.setAttribute('aria-expanded', !isExpanded);
          nav.classList.toggle('is-active');
          if (nav.classList.contains('is-active')) {
            nav.style.top = `${siteHeader.offsetHeight}px`;
          }
        });
      }

      // Adjust page title margin based on header height
      const pageTitleSection = document.getElementById('pageTitleSection');
      if (siteHeader && pageTitleSection) {
          const headerHeight = siteHeader.offsetHeight;
          pageTitleSection.style.marginTop = `${headerHeight}px`;
          // Optional: Listen for resize to readjust if header height changes dynamically
          window.addEventListener('resize', () => {
            pageTitleSection.style.marginTop = `${siteHeader.offsetHeight}px`;
          });
      }


      initApp(); initBackToTop(); initSorting(); initSearch();
    });

    let allProducts = [];
    let currentProducts = [];
    const FALLBACK_IMAGE_URL = '/urunler/assets/logos/resimyok.png';
    const API_BASE_PATH = '/urunler/api/';
    const LOCAL_IMAGE_BASE = `${API_BASE_PATH}gorseller/`;

    function localImageUrl(product) {
        if (!product || !product.ImageUrl || !product.ProductCode) return product?.ImageUrl || FALLBACK_IMAGE_URL;
        const match = product.ImageUrl.match(/\.([a-zA-Z0-9]+)(?:[?#].*)?$/);
        const ext = match ? match[1] : 'jpg';
        return `${LOCAL_IMAGE_BASE}${product.ProductCode}.${ext}`;
    }

    async function initApp() {
      try {
        const response = await fetch('/urunler/api/products.json');
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        allProducts = await response.json();

        if (!Array.isArray(allProducts)) {
            console.error('products.json içeriği bir dizi değil:', allProducts);
            allProducts = [];
        }

        if (!allProducts.length) return showMessage('Ürün verisi bulunamadı veya yüklenemedi.');

        currentProducts = [...allProducts];
        buildCategories();
        buildBrands();
        buildBrandsCarousel();
        displayProducts(currentProducts);
        checkUrlParams();
      } catch (e) {
        console.error('Uygulama başlatılırken hata:', e);
        showMessage('Sayfa yüklenirken bir hata oluştu. Lütfen konsolu kontrol edin.', true);
      }
    }

    const extractCategories = () => {
      const categoriesMap = { ALL: allProducts.length };
      allProducts.forEach(p => {
        const categoryName = (p.cat || p.brand || 'Diğer').trim();
        categoriesMap[categoryName] = (categoriesMap[categoryName] || 0) + 1;
      });
      return categoriesMap;
    };

    function buildCategories() {
      const categories = extractCategories();
      const categoryListElement = document.getElementById('categoryList');
      if (!categoryListElement) return;

      const allProductsLink = categoryListElement.querySelector('[data-category="ALL"] .filter-count');
      if (allProductsLink) allProductsLink.textContent = categories.ALL || 0;

      Object.keys(categories).filter(cat => cat !== 'ALL').sort().forEach(categoryName => {
        const safeCategoryName = categoryName.replace(/"/g, '"');
        categoryListElement.insertAdjacentHTML('beforeend',
          `<li class="filter-item">
            <a href="#" class="filter-link" data-category="${safeCategoryName}">
              ${categoryName}
              <span class="filter-count">${categories[categoryName]}</span>
            </a>
          </li>`);
      });

      categoryListElement.querySelectorAll('.filter-link').forEach(link => link.addEventListener('click', event => {
        event.preventDefault();
        categoryListElement.querySelectorAll('.filter-link').forEach(el => el.classList.remove('active'));
        link.classList.add('active');
        const selectedCategory = link.dataset.category;
        filterAndDisplayProducts(selectedCategory);
        updateURL(selectedCategory);
        document.querySelectorAll('#brandList .filter-link').forEach(el => el.classList.remove('active'));
        document.getElementById('productSearchInput').value = '';
        document.getElementById('clearSearchButton').style.display = 'none';
      }));
    }

    const extractBrands = () => {
      const brandMap = { ALL_BRANDS: allProducts.length };
      allProducts.forEach(p => {
        const brandName = (p.brand || 'Other Brands').trim();
        brandMap[brandName] = (brandMap[brandName] || 0) + 1;
      });
      return brandMap;
    };

    function buildBrands() {
      const brands = extractBrands();
      const brandListEl = document.getElementById('brandList');
      if (!brandListEl) return;
      const allLink = brandListEl.querySelector('[data-brand="ALL_BRANDS"] .filter-count');
      if (allLink) allLink.textContent = brands.ALL_BRANDS || 0;
      Object.keys(brands).filter(b => b !== 'ALL_BRANDS').sort().forEach(brandName => {
        const safe = brandName.replace(/"/g, '&quot;');
        brandListEl.insertAdjacentHTML('beforeend',
          `<li class="filter-item"><a href="#" class="filter-link" data-brand="${safe}">${brandName}<span class="filter-count">${brands[brandName]}</span></a></li>`);
      });

      brandListEl.querySelectorAll('.filter-link').forEach(link => link.addEventListener('click', event => {
        event.preventDefault();
        brandListEl.querySelectorAll('.filter-link').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('#categoryList .filter-link').forEach(el => el.classList.remove('active'));
        link.classList.add('active');
        const brand = link.dataset.brand;
        filterByBrand(brand);
        updateBrandURL(brand);
        document.getElementById('productSearchInput').value = '';
        document.getElementById('clearSearchButton').style.display = 'none';
      }));
    }

    function buildBrandsCarousel() {
      const brandsMap = {};
      allProducts.forEach(p => {
          if (p.brand) {
              const brandName = p.brand.trim();
              if (brandName && brandName !== 'Diğer') brandsMap[brandName] = true;
          }
      });
      const uniqueBrands = Object.keys(brandsMap).sort();
      const track = document.getElementById('brandTrack');
      if (!track || !uniqueBrands.length) return;

      const makeBtn = brandName => {
        const safeBrandName = brandName.replace(/"/g, '"');
        const logoPath = `/urunler/assets/logos/dermo/${slugify(brandName)}.png`; // Assuming logos are in dermo subfolder
        return `<button class="brand-logo" data-brand="${safeBrandName}" title="${safeBrandName}">
                  <img src="${logoPath}" alt="${safeBrandName}" onerror="this.style.display='none'; this.parentElement.innerHTML = '${safeBrandName.replace(/"/g, '"')}';">
                </button>`;
      }
      track.innerHTML = uniqueBrands.concat(uniqueBrands).map(makeBtn).join('');

      track.addEventListener('click', e => {
        const brandButton = e.target.closest('.brand-logo');
        if (!brandButton) return;
        const brandName = brandButton.dataset.brand;
        const brandLink = Array.from(document.querySelectorAll('#brandList .filter-link')).find(l => l.dataset.brand === brandName);

        if (brandLink) {
          brandLink.click();
          const categorySection = document.querySelector('.category-section');
          if (categorySection) {
            const siteHeader = document.getElementById('newSiteHeader');
            const headerOffset = siteHeader ? siteHeader.offsetHeight : 0;
            window.scrollTo({ top: categorySection.offsetTop - headerOffset, behavior: 'smooth' });
          }
        }
      });
    }

    function filterAndDisplayProducts(category) {
        currentProducts = (category === 'ALL' || !category)
            ? [...allProducts]
            : allProducts.filter(p => (p.cat || p.brand || 'Diğer').trim() === category);
        sortAndDisplayProducts();
    }

    function filterByBrand(brand) {
        currentProducts = (brand === 'ALL_BRANDS' || !brand)
            ? [...allProducts]
            : allProducts.filter(p => ((p.brand || 'Other Brands').trim()) === brand);
        sortAndDisplayProducts();
    }


    function sortAndDisplayProducts() {
        const sortBy = document.getElementById('sortDropdown').value;
        let sortedProducts = [...currentProducts];

        sortedProducts.sort((a, b) => {
            if (sortBy === 'name-asc') {
                return (a.ProductName || '').localeCompare(b.ProductName || '', 'tr', { sensitivity: 'base' });
            } else if (sortBy === 'name-desc') {
                return (b.ProductName || '').localeCompare(a.ProductName || '', 'tr', { sensitivity: 'base' });
            }
            return 0;
        });
        displayProducts(sortedProducts);
    }


    function displayProducts(productsToDisplay) {
      const productCountElement = document.getElementById('productCount');
      if (productCountElement) productCountElement.textContent = `${productsToDisplay.length} ürün`;

      const grid = document.getElementById('productsGrid');
      if (!grid) return;

      if (!productsToDisplay.length) {
        grid.innerHTML = '<div class="no-results">Bu kritere uygun ürün bulunamadı.</div>';
        return;
      }

      grid.innerHTML = productsToDisplay.map(p => {
        const productSlug = slugify(p.ProductName);
        const imageUrl  = localImageUrl(p);
        const categoryName  = (p.cat || p.brand || 'Diğer').trim();

        const imageTag = imageUrl
          ? `<img src="${imageUrl}" alt="${p.ProductName || 'Ürün Resmi'}" class="product-image" loading="lazy" onerror="this.onerror=null;this.parentElement.innerHTML='<div class=\\'no-image\\'>Görsel Yok</div>';">`
          : '<div class="no-image">Görsel Yok</div>';

        return `<div class="product-card" onclick="window.location.href='/urunler/${segment}/product-pages/${productSlug}/'" title="${p.ProductName || ''}">
                  <div class="product-image-container">${imageTag}</div>
                  <div class="product-content">
                    <span class="product-category">${categoryName}</span>
                    <h3 class="product-name">${p.ProductName || 'İsimsiz Ürün'}</h3>
                    <span class="product-link">Ürünü İncele</span>
                  </div>
                </div>`;
      }).join('');
    }

    const updateURL = category => {
      const url = new URL(location.href);
      if (category === 'ALL' || !category) {
        url.searchParams.delete('kategori');
      } else {
        url.searchParams.set('kategori', category);
      }
      url.searchParams.delete('marka');
      history.pushState({}, '', url);
    };

    const updateBrandURL = brand => {
      const url = new URL(location.href);
      if (brand === 'ALL_BRANDS' || !brand) {
        url.searchParams.delete('marka');
      } else {
        url.searchParams.set('marka', brand);
      }
      url.searchParams.delete('kategori');
      history.pushState({}, '', url);
    };

    const checkUrlParams = () => {
      const params = new URLSearchParams(location.search);
      const categoryParam = params.get('kategori');
      const brandParam = params.get('marka');
      if (!categoryParam) {
        if (brandParam) {
          const brandLink = Array.from(document.querySelectorAll('#brandList .filter-link')).find(l => l.dataset.brand === brandParam);
          if (brandLink) { brandLink.click(); return; }
        }
        const allProductsLink = document.querySelector('.filter-link[data-category="ALL"]');
        if (allProductsLink) allProductsLink.click();
        return;
      }

      const categoryLinkToActivate = Array.from(document.querySelectorAll('.filter-link')).find(l => l.dataset.category === categoryParam);
      if (categoryLinkToActivate) {
        categoryLinkToActivate.click();
      } else {
        const allProductsLink = document.querySelector('.filter-link[data-category="ALL"]');
        if (allProductsLink) allProductsLink.click();
      }
    };

    function initSorting(){
      const sortDropdown = document.getElementById('sortDropdown');
      if (!sortDropdown) return;
      sortDropdown.addEventListener('change', () => {
        sortAndDisplayProducts();
      });
    }

    let searchDebounceTimeout;
    function initSearch(){
      const searchInput = document.getElementById('productSearchInput');
      const clearButton = document.getElementById('clearSearchButton');
      if (!searchInput || !clearButton) return;

      searchInput.addEventListener('input', () => {
        clearTimeout(searchDebounceTimeout);
        clearButton.style.display = searchInput.value ? 'block' : 'none';
        searchDebounceTimeout = setTimeout(() => {
            performSearch(searchInput.value.toLowerCase());
        }, 300);
      });
      clearButton.addEventListener('click', () => {
        searchInput.value='';
        clearButton.style.display='none';
        const activeBrandLink = document.querySelector('#brandList .filter-link.active');
        if (activeBrandLink) {
          const brand = activeBrandLink.dataset.brand;
          filterByBrand(brand);
        } else {
          const activeCategoryLink = document.querySelector('#categoryList .filter-link.active');
          const activeCategory = activeCategoryLink ? activeCategoryLink.dataset.category : 'ALL';
          filterAndDisplayProducts(activeCategory);
        }
      });
    }

    function performSearch(term) {
        const activeBrandLink = document.querySelector('#brandList .filter-link.active');
        const activeCategoryLink = document.querySelector('#categoryList .filter-link.active');
        const activeCategory = activeCategoryLink ? activeCategoryLink.dataset.category : 'ALL';

        let productsToSearch;
        if (activeBrandLink) {
            const activeBrand = activeBrandLink.dataset.brand;
            productsToSearch = (activeBrand === 'ALL_BRANDS' || !activeBrand)
                ? [...allProducts]
                : allProducts.filter(p => ((p.brand || 'Other Brands').trim()) === activeBrand);
        } else {
            productsToSearch = (activeCategory === 'ALL' || !activeCategory)
                ? [...allProducts]
                : allProducts.filter(p => (p.cat || p.brand || 'Diğer').trim() === activeCategory);
        }

        if (term) {
            productsToSearch = productsToSearch.filter(p =>
                (p.ProductName || '').toLowerCase().includes(term) ||
                (p.ProductCode || '').toLowerCase().includes(term) ||
                (p.brand || '').toLowerCase().includes(term)
            );
        }
        currentProducts = productsToSearch;
        sortAndDisplayProducts();
    }


    function initBackToTop(){
      const btn = document.getElementById('backToTop');
      if (!btn) return;
      window.addEventListener('scroll', ()=>btn.classList.toggle('visible',window.scrollY > 300));
      btn.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));
    }

    function slugify(text) {
      if (text == null) return 'isimsiz-urun';
      let str = String(text);
      const trMap = { 'ç':'c','Ç':'C','ğ':'g','Ğ':'G','ı':'i','İ':'I','ö':'o','Ö':'O','ş':'s','Ş':'S','ü':'u','Ü':'U' };
      for (const key in trMap) str = str.replace(new RegExp(key, 'g'), trMap[key]);
      str = str.normalize('NFD').replace(/[\u0300-\u036f]/g, '');
      str = str.replace(/\//g, '').replace(/[\.,]/g, '');
      str = str.toLowerCase();
      str = str.replace(/(\d+)\s+(sensibio)/g, '$1$2');
      const units = 'ml|gr|l|kg|mg|cm|m|lt';
      str = str.replace(new RegExp(`\\b(${units})\\s+(shower|gel)\\b`, 'gi'), '$1$2');
      str = str.replace(new RegExp(`(\\d+)\\s*(${units})\\b`, 'gi'), '$1-$2');
      str = str.replace(/\s+/g, '-').replace(/[^\w-]+/g, '-').replace(/--+/g, '-').replace(/^-+|-+$/g, '');
      return str || 'isimsiz-urun';
    }

    const showMessage = (msg, isError = false)=>{
      const grid = document.getElementById('productsGrid');
      if (grid) grid.innerHTML=`<div class="${isError ? 'error' : 'no-results'}">${msg}</div>`;
    }
  </script>
</body>
</html>
